apiVersion: v1
kind: Secret
metadata:
  name: {{ include "wordpress.secretName" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "wordpress.labels" . | nindent 4 }}
type: Opaque
data:
  # WordPress admin password (generated by deployment script)
  wordpress-password: {{ .Values.wordpress.wordpressPassword | b64enc | quote }}
  
  # MySQL passwords (generated by deployment script)
  mysql-root-password: {{ .Values.mysql.auth.rootPassword | b64enc | quote }}
  mysql-password: {{ .Values.mysql.auth.password | b64enc | quote }}
  
  {{- if .Values.redis.enabled }}
  # Redis password (generated by deployment script)
  redis-password: {{ .Values.redis.auth.password | b64enc | quote }}
  {{- end }}
  
  # WordPress security keys and salts (generated by deployment script)
  wp-auth-key: {{ .Values.wordpress.security.authKey | default "GENERATED_AUTH_KEY" | b64enc | quote }}
  wp-secure-auth-key: {{ .Values.wordpress.security.secureAuthKey | default "GENERATED_SECURE_AUTH_KEY" | b64enc | quote }}
  wp-logged-in-key: {{ .Values.wordpress.security.loggedInKey | default "GENERATED_LOGGED_IN_KEY" | b64enc | quote }}
  wp-nonce-key: {{ .Values.wordpress.security.nonceKey | default "GENERATED_NONCE_KEY" | b64enc | quote }}
  wp-auth-salt: {{ .Values.wordpress.security.authSalt | default "GENERATED_AUTH_SALT" | b64enc | quote }}
  wp-secure-auth-salt: {{ .Values.wordpress.security.secureAuthSalt | default "GENERATED_SECURE_AUTH_SALT" | b64enc | quote }}
  wp-logged-in-salt: {{ .Values.wordpress.security.loggedInSalt | default "GENERATED_LOGGED_IN_SALT" | b64enc | quote }}
  wp-nonce-salt: {{ .Values.wordpress.security.nonceSalt | default "GENERATED_NONCE_SALT" | b64enc | quote }}
---
# TLS Certificate Secret (managed by cert-manager)
apiVersion: v1
kind: Secret
metadata:
  name: wordpress-tls
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "wordpress.labels" . | nindent 4 }}
  annotations:
    cert-manager.io/issuer: letsencrypt-prod
type: kubernetes.io/tls
