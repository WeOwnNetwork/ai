flowchart TD
    %% Standard class definitions
    classDef cur fill:#eef,stroke:#446,stroke-width:1px;
    classDef prog fill:#efe,stroke:#474,stroke-width:1px;
    classDef plan fill:#fff,stroke:#666,stroke-dasharray:5 4,stroke-width:1px;
    classDef pause fill:#fff,stroke:#999,stroke-dasharray:2 3,stroke-width:1px,font-style:italic;

    %% External connections
    Users[Users]
    ExternalLLMs[External LLM Providers]:::cur
    Web3[Web3 Services]:::plan

    %% Current Platform
    subgraph Platform[Current Platform: DigitalOcean K8s]
        direction TB
        
        subgraph Tenants[Tenant Clusters]
            direction LR
            
            subgraph Brand[Cluster: Internal Brand]
                direction TB
                A1[AnythingLLM]:::cur
                W1[WordPress + Fluent]:::cur
                N1[n8n]:::prog
                V1[Vaultwarden]:::cur
                K1[kagent.dev]:::plan
                E1[ElizaOS]:::plan
                O1[0.email]:::plan
                X1[Nextcloud]:::plan
            end

            subgraph Cohort[Cluster: Cohort Program]
                direction TB
                A2[AnythingLLM]:::cur
                W2[WordPress + Fluent]:::cur
                N2[n8n]:::prog
                V2[Vaultwarden]:::cur
            end

            subgraph Member[Cluster: Cohort Member]
                direction TB
                A3[AnythingLLM Only]:::cur
                LiteNote[We Own AI Lite SKU]
            end
        end
    end

    %% Future Platform
    subgraph Future[Future Option: We Own Cloud]
        CloudReplacement[Company-owned Infrastructure]:::plan
    end

    %% Core interactions
    Users --> W1
    Users --> W2  
    Users --> A3
    
    W1 --> N1
    W2 --> N2
    
    N1 <--> A1
    N2 <--> A2
    
    A1 <--> ExternalLLMs
    A2 <--> ExternalLLMs
    A3 <--> ExternalLLMs
    
    %% Secret management
    V1 -.-> W1
    V1 -.-> N1
    V1 -.-> A1
    V1 -.-> K1
    V1 -.-> E1
    
    V2 -.-> W2
    V2 -.-> N2
    V2 -.-> A2
    
    %% Planned integrations
    W1 <--> X1
    N1 <--> O1
    N1 <--> K1
    E1 <--> W1
    E1 <--> Web3
    
    %% Paused items
    LLMDPaused[LLM-D]:::pause

    %% Legend
    subgraph Legend[Legend]
        L1[Current]:::cur
        L2[In progress]:::prog
        L3[Planned]:::plan
        L4[Paused/backlog]:::pause
    end

    %% Notes: One Helm chart per app, tenant-specific values enable one-click replication
    %% We Own AI Lite = AnythingLLM only deployment
    %% Minimal workflows exist today, co-build with cohorts based on requests
